<!DOCTYPE html>
<html>
<head>
	<title>Magic Mirror</title>
	<meta name="google" content="notranslate" />
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">
	<meta name="mobile-web-app-capable" content="yes">

	<link rel="icon" href="data:;base64,iVBORw0KGgo=">
	<link rel="stylesheet" type="text/css" href="css/main.css">
	<link rel="stylesheet" type="text/css" href="fonts/roboto.css">
	<!-- custom.css is loaded by the loader.js to make sure it's loaded after the module css files. -->

	<script type="text/javascript">
		var version = "#VERSION#";
	</script>

	<script src = "https://code.jquery.com/jquery-1.9.1.min.js"></script>

	<script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
	<!-- annyang api 명령어 등록 -->
	<script>
	if (annyang) {
	  // Let's define a command.
	  var commands = {
	            '안녕': function() {
	                			responsiveVoice.speak("안녕하세요", "Korean Female");
	            			},
					    '잘자': function() {
												responsiveVoice.speak("안녕히 주무세요", "Korean Female");
												location.href="http://localhost:8080";
				            },
					    '고마워': function() {
												console.log("고맙다 명령어 입력");
				                responsiveVoice.speak("천만해요", "Korean Female");
				            },
							'약 입력': function() {
				                responsiveVoice.speak("약 입력 화면으로 이동합니다", "Korean Female");
												location.href="http://localhost:8080/medi";
				            }
	        };

	  annyang.setLanguage("ko");
	  // Add our commands to annyang
	  annyang.addCommands(commands);

	  // Start listening.
	  annyang.start();
	}
	</script>

	<!-- responsivevoice.js -->
	<script src= "http://code.responsivevoice.org/responsivevoice.js"></script>
	<script>
		function say(){
			if(responsiveVoice.voiceSupport()){
				console.log("Responsive Voice Supported");
				responsiveVoice.speak("테스트", "Korean Female");
			}
		}
	</script>


	<script>
	$(document).ready(function(){
		if(responsiveVoice.voiceSupport()){
			console.log("Responsive Voice Supported");
			responsiveVoice.speak("환영합니다", "Korean Female");
		}
			//로딩할 때마다 test.txt파일에서 데이터 가져오기
			console.log(location.href);
			var fullurl= location.href.split("?");

			var morning, afternoon, night;
			var contents = fullurl[1];
			temp= contents.split(":");
			morning= temp[0];
			afternoon= temp[1];
			night= temp[2];
			console.log('아침 : ' + morning + ', 점심 : ' + afternoon + ', 저녁 : ' + night);

			<!-- 매 분마다 시간별 알람 체크 -->
			playAlert = setInterval(function() {      <!-- 추후 5분간 입력이 없으면 blank로, 있으면 clearInterval() -->
				var date= new Date();
				<!-- 아침 알람( 오전 아홉시 ) -->
				if(date.getHours() == 9 && date.getMinutes() == 0 && morning == 1){
					responsiveVoice.speak("아침 약 드실 시간이에요. 약드세요.", "Korean Female");
				}
				<!-- 점심 알람( 오후 열두시 ) -->
				if(date.getHours() == 12 && date.getMinutes() == 0 && afternoon == 1){
					responsiveVoice.speak("점심 약 드실 시간이에요. 약드세요.", "Korean Female");
				}
				<!-- 저녁 알람( 오후 여섯시 ) -->
				if(date.getHours() == 18 && date.getMinutes() == 0 && night == 1){
					responsiveVoice.speak("저녁 약 드실 시간이에요. 약드세요.", "Korean Female");
				}
			}, 60000);

	});
	</script>
</head>
<body>
	<div class="region fullscreen below"><div class="container"></div></div>
	<div class="region top bar">
		<div class="container"></div>
		<div class="region top left"><div class="container"></div></div>
		<div class="region top center"><div class="container"></div></div>
		<div class="region top right"><div class="container"></div></div>
	</div>
	<div class="region upper third"><div class="container"></div></div>
	<div class="region middle center"><div class="container"></div></div>
	<div class="region lower third"><div class="container"><br/></div></div>
	<div class="region bottom bar">
		<div class="container"></div>
		<div class="region bottom left"><div class="container"></div></div>
		<div class="region bottom center"><div class="container"></div></div>
		<div class="region bottom right"><div class="container"></div></div>
	</div>
	<div class="region fullscreen above"><div class="container"></div></div>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript" src="js/defaults.js"></script>
	<script type="text/javascript" src="#CONFIG_FILE#"></script>
	<script type="text/javascript" src="vendor/vendor.js"></script>
	<script type="text/javascript" src="modules/default/defaultmodules.js"></script>
	<script type="text/javascript" src="js/logger.js"></script>
	<script type="text/javascript" src="translations/translations.js"></script>
	<script type="text/javascript" src="js/translator.js"></script>
	<script type="text/javascript" src="js/class.js"></script>
	<script type="text/javascript" src="js/module.js"></script>
	<script type="text/javascript" src="js/loader.js"></script>
	<script type="text/javascript" src="js/socketclient.js"></script>
	<script type="text/javascript" src="js/main.js"></script>


</body>
</html>
